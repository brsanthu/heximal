This is a temporary copy of the code from https://github.com/lit/lit/pull/4615
until @lit-labs/signals is published
